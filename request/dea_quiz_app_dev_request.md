# 開発依頼書：Databricks DEA 練習問題 学習用Webアプリ（多肢選択）

作成日：2026-02-13  
依頼者：草野（ユーザー）  
実装担当：Codex（開発者）

---

## 1. 背景・目的
- Databricks Certified Data Engineer Associate（DEA）試験対策として、用意済みの**練習問題50問（4択・解説付き）**をWebアプリで学習できるようにしたい。
- まずは **HTML / CSS / JavaScript のみ**（フロント単体）で「動くMVP」を作り、後から機能拡張できる構成にする。

---

## 2. スコープ
### 2.1 対象（やること）
- 問題データ（50問）を読み込み、以下の学習体験を提供する
  - 1問ずつ解く（多肢選択）
  - 正誤判定と解説表示
  - 次へ/前へ移動
  - 結果（スコア、正答率）
  - 学習履歴の保存（localStorage）
  - 出題設定（セクション/ランダム/出題数）
  - 間違い問題のみ復習

### 2.2 非対象（やらないこと：MVP外）
- サーバサイド実装（ユーザー認証、DB、API 等）
- 問題作成/編集UI（データは静的ファイルで管理）
- 複数ユーザー対応、ランキング、SNS共有
- PWA/オフライン完全対応（将来拡張候補としてはOK）

---

## 3. 想定環境・制約
- **ブラウザのみで動作**（Chrome/Edge 最新版を主ターゲット）
- 依存ライブラリなし（素の JS）で開始  
  - ※必要なら将来、軽量ライブラリ導入は相談
- データ永続化は **localStorage**
- 画面はスマホでも操作しやすい（レスポンシブ）

---

## 4. 入力データ仕様（questions.json）
### 4.1 形式
- `questions.json`（UTF-8 / JSON 配列）

### 4.2 スキーマ（例）
```json
[
  {
    "id": "Q1",
    "section": "1",
    "sectionTitle": "Databricks Intelligence Platform",
    "question": "Databricksで…最も適切なのはどれ？",
    "choices": {
      "A": "…",
      "B": "…",
      "C": "…",
      "D": "…"
    },
    "answer": "C",
    "explanation": "…",
    "tags": ["Auto Optimize", "Liquid Clustering"],
    "difficulty": 2
  }
]
```

### 4.3 データソース
- 依頼者側で作成済みの Markdown（前半問題／後半解答解説）を元に、開発側で `questions.json` に整形する  
  - 変換が大変であれば、依頼者が JSON を提供する方式でもOK（要相談）

---

## 5. 画面・機能要件

## 5.1 画面一覧
1. **ホーム/設定画面**
2. **クイズ画面**
3. **結果画面**
4. **復習画面（間違いのみ）**（結果画面から遷移でもOK）

---

## 5.2 ホーム/設定画面
### 表示要素
- 問題セット名（固定：DEA 50問）
- 出題範囲（チェックボックス）
  - セクション1〜5
- 出題モード（ラジオ）
  - 通常（順番）
  - ランダム
  - 間違いのみ
  - ブックマークのみ（MVPでは任意）
- 出題数（セレクト）
  - 10 / 20 / 50 / 全問（=50）
- 「開始」ボタン
- 「前回の続きから」ボタン（MVPでは任意）

### 振る舞い
- 設定は localStorage に保存
- 「開始」で出題リスト（配列）を生成してクイズ画面へ

---

## 5.3 クイズ画面
### 表示要素
- ヘッダ：セクション名、進捗 `current/total`
- 問題文
- 選択肢（A〜D：ラジオボタン）
- ボタン
  - 「回答する」（確定→採点）
  - 「次へ」「前へ」
  - 「解説を表示/非表示」
  - 「ブックマーク⭐」（MVPでは任意）

### 採点仕様
- 回答確定後：
  - 正解なら ✅、不正解なら ❌
  - 正解の選択肢を明示
  - 解説欄を表示可能にする
- 「次へ」は未回答の場合に警告（または自動で未回答扱い）

### キーボード操作（可能なら）
- `A/B/C/D` または `1/2/3/4` で選択
- `Enter` で回答確定
- `→` で次へ、`←` で前へ（任意）

---

## 5.4 結果画面
### 表示要素
- 正答数 / 出題数 / 正答率
- セクション別の正答率（可能なら）
- 間違い問題一覧（Q番号と見出し、再挑戦ボタン）
- 「間違いのみ復習を開始」ボタン
- 「ホームへ」ボタン

---

## 5.5 復習（間違いのみ）画面
- 出題リストを「誤答がある問題」に限定
- 仕様はクイズ画面と同じ
- すべて正解したら完了表示

---

## 6. 学習履歴（localStorage）
### 6.1 保存する情報（例）
- `progress[questionId]` に以下を保持
  - `seenCount`（出題回数）
  - `correctCount`
  - `wrongCount`
  - `lastAnsweredAt`（ISO文字列）
  - `bookmark`（任意）

### 6.2 集計
- 全体正答率
- セクション別正答率（question.sectionで集計）

---

## 7. UI/デザイン要件（簡易）
- スマホで押しやすいボタンサイズ
- 正誤が視覚的にわかる（アイコン・強調表示）
- 解説は折りたたみ（デフォルト非表示推奨）
- 余白と行間を確保（読みやすさ優先）

---

## 8. 実装構成（成果物）
以下の4ファイル構成を基本とする（必要なら追加OK）。

```
/dea-quiz-app/
  index.html
  styles.css
  app.js
  questions.json
  README.md
```

### README.md に含めてほしい内容
- 起動方法（ローカルでの開き方）
  - 例：VS Code Live Server など（推奨）
- データの追加・編集方法（questions.json）
- localStorage のリセット方法
- 主要機能の概要

---

## 9. 受け入れ条件（Acceptance Criteria）
- [ ] `index.html` を開いて（または簡易サーバで）クイズが開始できる
- [ ] 1問ずつ表示され、A〜Dから選択→採点→解説が確認できる
- [ ] 次へ/前へで遷移でき、進捗が表示される
- [ ] 結果画面でスコアが表示される
- [ ] 学習履歴が localStorage に保存され、リロード後も残る
- [ ] 「間違いのみ」モードで誤答問題が出題できる
- [ ] スマホ画面幅でも操作可能（ボタンが潰れない）

---

## 10. 追加要望（あれば提案してOK：MVP後）
- 間隔反復（SRS：Leitner box など）の導入
- ブックマーク/タグでのフィルタ
- タイマー（試験モード）
- CSV/JSON で学習履歴エクスポート
- 複数問題セット対応（ファイル追加だけで増やせる設計）

---

## 11. 共有物（依頼者が提供するもの）
- 練習問題 Markdown（前半問題／後半解答解説）  
- もしくは `questions.json`（開発側で整形が難しい場合は依頼者が用意）

---

## 12. 実装上の注意
- 問題文・解説は改変しない（誤字修正が必要な場合は差分提示）
- JSON読み込みは相対パス前提。`file://` 直開きで CORS が出る場合は README に回避策（ローカルサーバ）を明記
- コードは「あとから機能追加しやすい」ように、状態管理（現在の問題index、出題リスト、回答状態、progress）を分離する
